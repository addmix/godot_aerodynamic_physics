[gd_scene load_steps=38 format=3 uid="uid://ca7gwywplc00p"]

[ext_resource type="PackedScene" uid="uid://isluevpxgivx" path="res://addons/godot_aerodynamic_physics/demo/aircraft_examples/boat/boat.glb" id="1_annr2"]
[ext_resource type="Script" uid="uid://blp6761y154ht" path="res://addons/godot_aerodynamic_physics/core/aero_influencer_3d/aero_buoyancy_3d/aero_buoyancy_mesh_3d.gd" id="2_ojow4"]
[ext_resource type="ArrayMesh" uid="uid://doft1hjfsl7yu" path="res://addons/godot_aerodynamic_physics/demo/aircraft_examples/boat/hull.res" id="3_6e2ia"]
[ext_resource type="PackedScene" uid="uid://bm03tdt5so3wj" path="res://addons/godot_aerodynamic_physics/demo/misc_demo_assets/camera without rotation.tscn" id="4_6e2ia"]
[ext_resource type="Script" path="res://addons/godot_aerodynamic_physics/core/aero_influencer_3d/aero_mover_3d/aero_propeller_3d.gd" id="6_8u34d"]
[ext_resource type="Script" uid="uid://c46td0go5kvp6" path="res://addons/godot_aerodynamic_physics/core/controls/aero_influencer_control_axis_config.gd" id="7_fbcns"]
[ext_resource type="Script" uid="uid://cblxodmmwvpt6" path="res://addons/godot_aerodynamic_physics/core/controls/aero_influencer_control_config.gd" id="8_bx2ck"]
[ext_resource type="PackedScene" uid="uid://bddf1hhmmre47" path="res://addons/godot_aerodynamic_physics/demo/misc_demo_assets/flight_info_label.tscn" id="8_gp0bn"]
[ext_resource type="Script" uid="uid://c3n4g48jfeemj" path="res://addons/godot_aerodynamic_physics/core/aero_influencer_3d/aero_influencer_3d.gd" id="9_gp0bn"]
[ext_resource type="Script" uid="uid://d1725od371u4a" path="res://addons/godot_aerodynamic_physics/core/aero_influencer_3d/aero_surface_3d/manual_aero_surface_3d/manual_aero_surface_3d.gd" id="9_pyde1"]
[ext_resource type="Script" uid="uid://ctbwb7xlhft6t" path="res://addons/godot_aerodynamic_physics/core/aero_influencer_3d/aero_surface_3d/manual_aero_surface_3d/manual_aero_surface_config.gd" id="10_gp0bn"]
[ext_resource type="Script" uid="uid://crkbhmxpjff4o" path="res://addons/godot_aerodynamic_physics/core/aero_influencer_3d/aero_surface_3d/aero_surface_config.gd" id="11_tufii"]
[ext_resource type="Script" uid="uid://cc5dwx5pqkaur" path="res://addons/godot_aerodynamic_physics/core/controls/aero_control_component.gd" id="12_pyde1"]
[ext_resource type="Script" uid="uid://dfbhcpt1rr3ai" path="res://addons/godot_aerodynamic_physics/core/controls/aero_control_config_axis.gd" id="13_gp0bn"]
[ext_resource type="Script" uid="uid://cbgqb7g7mmwtu" path="res://addons/godot_aerodynamic_physics/core/controls/aero_control_config.gd" id="14_tufii"]

[sub_resource type="Resource" id="Resource_3h27b"]
resource_name = "motor_trim"
script = ExtResource("13_gp0bn")
axis_name = "motor_trim"
min_limit = 0.0
cumulative_positive_event = &"pitch_up"
cumulative_negative_event = &"pitch_down"
cumulative_rate = 0.5

[sub_resource type="Resource" id="Resource_qvpob"]
resource_name = "steering"
script = ExtResource("13_gp0bn")
axis_name = "steering"
positive_event = &"roll_left"
negative_event = &"roll_right"
enable_smoothing = true

[sub_resource type="Resource" id="Resource_58016"]
resource_name = "throttle"
script = ExtResource("13_gp0bn")
axis_name = "throttle"
min_limit = -0.2
cumulative_positive_event = &"throttle_up"
cumulative_negative_event = &"throttle_down"

[sub_resource type="Resource" id="Resource_u0ult"]
script = ExtResource("14_tufii")
axis_configs = Array[ExtResource("13_gp0bn")]([SubResource("Resource_3h27b"), SubResource("Resource_qvpob"), SubResource("Resource_58016")])

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_gp0bn"]
points = PackedVector3Array(1.0513176918029785, 0.615614116191864, 1.7668290537787117, -1.0513176918029785, 0.615614116191864, 1.7668290537787117, 0.9414109479848911, 0.27855819625927314, 1.7668290537787117, 1.0513176918029785, 0.615614116191864, -1.6008801516276743, -0.9416167658572097, 0.27855819625927314, 1.7668290537787117, -1.0513176918029785, 0.615614116191864, -1.6008801516276743, 0.8238889428910188, -0.07049329608632143, 1.7668290537787117, 0.9414109479848911, 0.27855819625927314, 0.6669070996991713, 0.8238889428910188, -0.07049329608632143, -0.028205565017186185, 0.8238889428910188, -0.057317831304825706, -0.775107211588693, 0.7998082518297522, -0.022609330798348315, -1.6008801516276743, 0.5806122178105331, 0.12782694618440082, -2.337328976173371, 0.7382687080065162, 0.615614116191864, -2.3378041044472715, -0.8240947607633371, -0.07049329608632143, 1.7668290537787117, -0.9416167658572097, 0.27855819625927314, 0.6669070996991713, -0.7384745258788346, 0.615614116191864, -2.3378041044472715, -0.5808180356828514, 0.12782694618440082, -2.337328976173371, -0.8000140697020708, -0.022609330798348315, -1.6008801516276743, -0.8240947607633371, -0.057317831304825706, -0.775107211588693, -0.8240947607633371, -0.07049329608632143, -0.028205565017186185, 0, -0.38886758685112, 1.7668290537787117, 0.3776757957044765, -0.2429542306142574, -0.03105633466058899, 0.3776757957044765, -0.22977876583276172, -0.778433109505996, 0, -0.3722507693281889, -0.775107211588693, 0, -0.3199422076583702, -1.6008801516276743, 0, -0.1196554781068277, -2.339704617542873, 0.30440463315908484, 0.010231006791349861, -2.341605130638475, 0, 0.615614116191864, -3.08660626411438, -0.25562579741959657, -0.2901499253539434, 1.766353925504812, -0.37788161357679495, -0.2429542306142574, -0.03105633466058899, -0.3046104510314033, 0.010231006791349861, -2.341605130638475, -0.37788161357679495, -0.22977876583276172, -0.778433109505996, 0, -0.38886758685112, -0.028205565017186185)

[sub_resource type="Resource" id="Resource_tufii"]
resource_name = "steering"
script = ExtResource("7_fbcns")
axis_name = "steering"
contribution = Vector3(0, -1, 0)

[sub_resource type="Resource" id="Resource_gp0bn"]
resource_name = "motor_trim"
script = ExtResource("7_fbcns")
axis_name = "motor_trim"
contribution = Vector3(-1, 0, 0)

[sub_resource type="Resource" id="Resource_yuxf8"]
script = ExtResource("8_bx2ck")
axis_configs = Array[ExtResource("7_fbcns")]([SubResource("Resource_tufii"), SubResource("Resource_gp0bn")])
use_separate_minmax = true
max_value = Vector3(0, 0.5, 0)
min_value = Vector3(-1.5699999999999998, -0.5, 0)
metadata/_custom_type_script = "uid://cblxodmmwvpt6"

[sub_resource type="Curve" id="Curve_2ou3h"]
_limits = [0.0, 1.0, -180.0, 180.0]
bake_resolution = 21
_data = [Vector2(-180, 0), 0.0, 0.0, 0, 0, Vector2(-90, 1), 0.0, 0.0, 0, 0, Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(90, 1), 0.0, 0.0, 0, 0, Vector2(180, 0), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="Curve" id="Curve_xiynb"]
_limits = [1.0, 2.0, 0.0, 2.0]
bake_resolution = 23
_data = [Vector2(0.7, 1), 0.0, 0.0, 0, 0, Vector2(1, 2), 0.0, 0.0, 0, 0, Vector2(2, 1.2), 0.181, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_3qcjo"]
_limits = [-1.0, 1.0, -180.0, 180.0]
bake_resolution = 36
_data = [Vector2(-180, 0), 0.0, 0.0, 0, 0, Vector2(-148, 1), 0.0, 0.0, 0, 0, Vector2(-145, 0.7), 0.0, 0.0, 0, 0, Vector2(-35, -0.7), 0.0, 0.0, 0, 0, Vector2(-32, -1), 0.0, 0.0, 0, 0, Vector2(32, 1), 0.0, 0.0, 0, 0, Vector2(35, 0.7), 0.0, 0.0, 0, 0, Vector2(137.426, -0.7), 0.0, 0.0, 0, 0, Vector2(148, -1), 0.0, 0.0, 0, 0, Vector2(180, 0), 0.0, 0.0, 0, 0]
point_count = 10

[sub_resource type="Curve" id="Curve_n664u"]
_limits = [0.0, 1.0, 0.0, 90.0]
bake_resolution = 4
_data = [Vector2(0, 1), 0.0, -0.0244575, 0, 0, Vector2(35.2174, 0.443437), -0.00834336, -0.00834336, 0, 0, Vector2(90, 0.291), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Resource" id="Resource_85l1x"]
script = ExtResource("10_gp0bn")
lift_aoa_curve = SubResource("Curve_3qcjo")
drag_aoa_curve = SubResource("Curve_2ou3h")
sweep_drag_multiplier_curve = SubResource("Curve_n664u")
drag_at_mach_multiplier_curve = SubResource("Curve_xiynb")

[sub_resource type="Resource" id="Resource_j3mod"]
script = ExtResource("11_tufii")
chord = 0.18300000000000002
span = 0.523
area = 0.09570900000000002
aspect_ratio = 2.8579234972677594

[sub_resource type="Resource" id="Resource_nof2j"]
resource_name = "throttle"
script = ExtResource("7_fbcns")
axis_name = "throttle"
contribution = Vector3(1, 1, 1)

[sub_resource type="Resource" id="Resource_uiicu"]
script = ExtResource("8_bx2ck")
axis_configs = Array[ExtResource("7_fbcns")]([SubResource("Resource_nof2j")])
max_value = Vector3(0, 160, 0)
min_value = Vector3(0, -160, 0)

[sub_resource type="Curve" id="Curve_3h27b"]
_limits = [0.0, 1.0, -180.0, 180.0]
bake_resolution = 21
_data = [Vector2(-180, 0), 0.0, 0.0, 0, 0, Vector2(-90, 1), 0.0, 0.0, 0, 0, Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(90, 1), 0.0, 0.0, 0, 0, Vector2(180, 0), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="Curve" id="Curve_qvpob"]
_limits = [1.0, 2.0, 0.0, 2.0]
bake_resolution = 23
_data = [Vector2(0.7, 1), 0.0, 0.0, 0, 0, Vector2(1, 2), 0.0, 0.0, 0, 0, Vector2(2, 1.2), 0.181, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_58016"]
_limits = [-1.0, 1.0, -180.0, 180.0]
bake_resolution = 36
_data = [Vector2(-180, 0), 0.0, 0.0, 0, 0, Vector2(-148, 1), 0.0, 0.0, 0, 0, Vector2(-145, 0.7), 0.0, 0.0, 0, 0, Vector2(-35, -0.7), 0.0, 0.0, 0, 0, Vector2(-32, -1), 0.0, 0.0, 0, 0, Vector2(32, 1), 0.0, 0.0, 0, 0, Vector2(35, 0.7), 0.0, 0.0, 0, 0, Vector2(137.426, -0.7), 0.0, 0.0, 0, 0, Vector2(148, -1), 0.0, 0.0, 0, 0, Vector2(180, 0), 0.0, 0.0, 0, 0]
point_count = 10

[sub_resource type="Curve" id="Curve_hcphs"]
_limits = [0.0, 1.0, 0.0, 90.0]
bake_resolution = 4
_data = [Vector2(0, 1), 0.0, -0.0244575, 0, 0, Vector2(35.2174, 0.443437), -0.00834336, -0.00834336, 0, 0, Vector2(90, 0.291), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Resource" id="Resource_jhqwu"]
script = ExtResource("10_gp0bn")
lift_aoa_curve = SubResource("Curve_58016")
min_drag_coefficient = 0.01
max_drag_coefficient = 0.6
drag_aoa_curve = SubResource("Curve_3h27b")
sweep_drag_multiplier_curve = SubResource("Curve_hcphs")
drag_at_mach_multiplier_curve = SubResource("Curve_qvpob")

[sub_resource type="Resource" id="Resource_w1uje"]
script = ExtResource("11_tufii")
chord = 0.201
span = 0.294
area = 0.059094
aspect_ratio = 1.4626865671641789

[node name="Boat" instance=ExtResource("1_annr2")]
mass = 1500.0
center_of_mass = Vector3(0, -0.08999999999999986, 0.15000000000000036)
show_debug = true
debug_width = 0.075
influencer_debug_width = 0.05
debug_center_width = 0.15

[node name="AeroControlComponent" type="Node" parent="." index="0"]
script = ExtResource("12_pyde1")
control_config = SubResource("Resource_u0ult")
metadata/_custom_type_script = "uid://cc5dwx5pqkaur"

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="2"]
shape = SubResource("ConvexPolygonShape3D_gp0bn")

[node name="AeroBuoyancyMesh3D" type="Node3D" parent="." index="3"]
script = ExtResource("2_ojow4")
buoyancy_mesh = ExtResource("3_6e2ia")
metadata/_custom_type_script = "uid://blp6761y154ht"

[node name="CameraWithoutRotation" parent="." index="4" instance=ExtResource("4_6e2ia")]
camera_distance = 5.0

[node name="Label3D" type="Label3D" parent="CameraWithoutRotation/Camera3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.11, 1.57529, -2.9862)
text = "Controls:
Motor trim: W/A
Steering: A/D
Throttle: Shift/Ctrl"

[node name="FlightInfoLabel" parent="CameraWithoutRotation/Camera3D" index="1" instance=ExtResource("8_gp0bn")]

[node name="OutboardRotate" type="Node3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5569941822463479, 1.946746907040108)
script = ExtResource("9_gp0bn")
actuation_config = SubResource("Resource_yuxf8")
metadata/_custom_type_script = "uid://c3n4g48jfeemj"

[node name="Rudder" type="Node3D" parent="OutboardRotate" index="0"]
transform = Transform3D(6.093179528402392e-17, 1, -6.059354761065442e-18, -0.9950917330032952, 6.123233995736766e-17, 0.09895677292888368, 0.09895677292888368, 0, 0.9950917330032952, 2.1885573832565102e-17, -1.2080225085121707, -0.0052445146625761385)
script = ExtResource("9_pyde1")
manual_config = SubResource("Resource_85l1x")
wing_config = SubResource("Resource_j3mod")
metadata/_custom_type_script = "uid://d1725od371u4a"

[node name="AeroPropeller3D" type="Node3D" parent="OutboardRotate" index="1" node_paths=PackedStringArray("propeller_blade")]
transform = Transform3D(1, 0, 0, 0, 0.08715574274765814, 0.9961946980917455, 0, -0.9961946980917455, 0.08715574274765814, 0, -1.1851167937017393, 0.24945381175169823)
script = ExtResource("6_8u34d")
propeller_amount = 3
propeller_blade = NodePath("ManualAeroSurface3D")
propeller_speed_control_config = SubResource("Resource_uiicu")
disable_lift_dissymmetry = true
show_torque = true
show_lift = false
show_thrust = true

[node name="ManualAeroSurface3D" type="Node3D" parent="OutboardRotate/AeroPropeller3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 0.7660444431189778, -0.642787609686539, 0, 0.642787609686539, 0.7660444431189778, 0.1547106956849627, 0, 0)
script = ExtResource("9_pyde1")
manual_config = SubResource("Resource_jhqwu")
wing_config = SubResource("Resource_w1uje")
metadata/_custom_type_script = "uid://d1725od371u4a"

[node name="CSGBox3D" type="CSGBox3D" parent="OutboardRotate/AeroPropeller3D/ManualAeroSurface3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1.0000000000000022, 0, 0, 0, 1.0000000000000022, 0, 0, 0.0484994947910311)
size = Vector3(0.29169467849897046, 0.02171675442514242, 0.20659217378033645)

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="OutboardRotate/AeroPropeller3D" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.01319748675450682, 0)
radius = 0.03205869
height = 0.113940015

[node name="CSGBox3D" type="CSGBox3D" parent="OutboardRotate" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.11371392756700516, 0.04976937919855118)
size = Vector3(0.3051432223910524, 0.5555105119756263, 0.46904054573883514)

[node name="CSGBox3D2" type="CSGBox3D" parent="OutboardRotate" index="3"]
transform = Transform3D(1, 0, 0, 0, 0.996007793875622, 0.08926631245333633, 0, -0.08926631245333633, 0.996007793875622, 0, -0.7646932988695567, 0.006571187515797883)
size = Vector3(0.09501928310100992, 1.4401770114063766, 0.2261102475140433)

[editable path="CameraWithoutRotation"]
